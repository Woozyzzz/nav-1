{"version":3,"sources":["main.js"],"names":["$siteList","$","$last","x","window","localStorage","getItem","xObject","JSON","parse","hashMap","logoType","logo","link","url","img","render","find","remove","forEach","node","index","$li","before","on","e","stopPropagation","splice","string","stringify","setItem","document","key","open","css","prompt","indexOf","replace","linkArr","split","push","length"],"mappings":"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","file":"main.781d2d49.js","sourceRoot":"..\\src","sourcesContent":["(function () {\r\n  const $siteList = $(`.siteList`);\r\n  const $last = $(`.last`);\r\n  const x = window.localStorage.getItem(\"x\");\r\n  const xObject = JSON.parse(x);\r\n  const hashMap = xObject || [\r\n    { logoType: \"text\", logo: \"a\", link: \"acfun.cn\", url: \"//acfun.cn\" },\r\n    {\r\n      logoType: \"image\",\r\n      logo: \"b\",\r\n      img: \"../src/images/bilibili.png\",\r\n      link: \"bilibili.com\",\r\n      url: \"//bilibili.com\",\r\n    },\r\n  ];\r\n  const render = () => {\r\n    $siteList.find(`li:not(.last)`).remove();\r\n    hashMap.forEach((node, index) => {\r\n      if (node.logoType === \"text\") {\r\n        const $li = $(`<li>\r\n    <a href=\"${node.url}\">\r\n      <div class=\"site\">\r\n        <div class=\"logo\">${node.logo}</div>\r\n        <div class=\"link\">${node.link}</div>\r\n        <div class=\"close\">\r\n          <svg class=\"icon\">\r\n            <use xlink:href=\"#icon-Close\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </a>\r\n  </li>`);\r\n        $last.before($li);\r\n      } else if (node.logoType === \"image\") {\r\n        const $li = $(`<li>\r\n    <a href=\"${node.url}\">\r\n      <div class=\"site\">\r\n        <div class=\"logo\">\r\n        <img src=\"${node.img}\" alt=\"${node.logo}\" />\r\n        </div>\r\n        <div class=\"link\">${node.link}</div>\r\n        <div class=\"close\">\r\n          <svg class=\"icon\">\r\n            <use xlink:href=\"#icon-Close\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </a>\r\n  </li>`);\r\n        $last.before($li);\r\n      }\r\n      $(\".close\").on(\"click\", (e) => {\r\n        e.stopPropagation();\r\n        hashMap.splice(index, 1);\r\n        const string = JSON.stringify(hashMap);\r\n        window.localStorage.setItem(\"x\", string);\r\n        render();\r\n        return false;\r\n      });\r\n      $(document).on(\"keypress\", (e) => {\r\n        if (node.logo === e.key) {\r\n          window.open(node.url, \"_self\");\r\n        }\r\n      });\r\n    });\r\n    $last.css(\"display\", \"block\");\r\n  };\r\n\r\n  render();\r\n  $(\".addButton\").on(\"click\", () => {\r\n    let link = window.prompt(`请输入网址：`);\r\n    let url;\r\n    if (link) {\r\n      if (link.indexOf(\"http\") === 0 || link.indexOf(\"//\") === 0) {\r\n        url = link;\r\n      } else {\r\n        url = \"//\" + link;\r\n      }\r\n      link = link\r\n        .replace(\"https://\", \"\")\r\n        .replace(\"http://\", \"\")\r\n        .replace(/\\/.*/, \"\");\r\n      let linkArr = link.split(\".\");\r\n\r\n      hashMap.push({\r\n        logoType: \"text\",\r\n        logo: linkArr[linkArr.length - 2][0],\r\n        link: link,\r\n        url: url,\r\n      });\r\n      const string = JSON.stringify(hashMap);\r\n      window.localStorage.setItem(\"x\", string);\r\n      render();\r\n    }\r\n  });\r\n})();\r\n"]}