{"version":3,"sources":["main.js"],"names":["loadData","JSON","parse","window","localStorage","getItem","saveData","dataList","setItem","stringify","render","$siteList","find","remove","hashMap","forEach","node","index","logoType","$last","before","$","url","logo","link","img","on","e","preventDefault","splice","document","key","target","matches","open","css","urlString","prompt","indexOf","replace","push"],"mappings":"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","file":"main.0f8b6496.js","sourceRoot":"..\\src","sourcesContent":["function loadData() {\r\n  return JSON.parse(window.localStorage.getItem(\"x\"));\r\n}\r\nfunction saveData(dataList) {\r\n  return window.localStorage.setItem(\"x\", JSON.stringify(dataList));\r\n}\r\nfunction render() {\r\n  $siteList.find(`li:not(.last)`).remove();\r\n  hashMap.forEach((node, index) => {\r\n    if (node.logoType === \"text\") {\r\n      $last.before(\r\n        $(`<li>\r\n    <a href=\"${node.url}\">\r\n      <div class=\"site\">\r\n        <div class=\"logo\">${node.logo}</div>\r\n        <div class=\"link\">${node.link}</div>\r\n        <div class=\"close\">\r\n          <svg class=\"icon\">\r\n            <use xlink:href=\"#icon-close1\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </a>\r\n  </li>`)\r\n      );\r\n    } else if (node.logoType === \"image\") {\r\n      $last.before(\r\n        $(`<li>\r\n    <a href=\"${node.url}\">\r\n      <div class=\"site\">\r\n        <div class=\"logo\">\r\n        <img id=\"img${index}\" src=\"${node.img}\"/>\r\n        </div>\r\n        <div class=\"link\">${node.link}</div>\r\n        <div class=\"close\">\r\n          <svg class=\"icon\">\r\n            <use xlink:href=\"#icon-close1\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </a>\r\n  </li>`)\r\n      );\r\n      $(`#img${index}`).on(\"error\", function (e) {\r\n        // $(this).parent().html(node.logo);\r\n        hashMap[index].logoType = \"text\";\r\n        saveData(hashMap);\r\n        render();\r\n      });\r\n    }\r\n    $(`li:nth-child(${index + 1}`).on(\"click\", \".close\", function (e) {\r\n      e.preventDefault();\r\n      hashMap.splice(index, 1);\r\n      saveData(hashMap);\r\n      render();\r\n    });\r\n    $(document).on(\"keypress\", function (e) {\r\n      if (e.key === node.logo) {\r\n        if (!e.target.matches(\"input\")) {\r\n          window.open(node.url, \"_self\");\r\n        }\r\n      }\r\n    });\r\n  });\r\n  $last.css(\"visibility\", \"visible\");\r\n}\r\n\r\nconst $siteList = $(`.siteList`);\r\nconst $last = $(`.last`);\r\nconst hashMap = loadData() || [\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"a\",\r\n    link: \"iconfont.cn\",\r\n    url: \"//iconfont.cn\",\r\n    img: \"//iconfont.cn/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"b\",\r\n    link: \"bilibili.com\",\r\n    url: \"//bilibili.com\",\r\n    img: \"//bilibili.com/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"c\",\r\n    link: \"css-tricks.com\",\r\n    url: \"//css-tricks.com\",\r\n    img: \"//css-tricks.com/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"d\",\r\n    link: \"developer.mozilla.org\",\r\n    url: \"//developer.mozilla.org\",\r\n    img: \"//developer.mozilla.org/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"g\",\r\n    link: \"github.com\",\r\n    url: \"//github.com\",\r\n    img: \"//github.com/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"j\",\r\n    link: \"api.jquery.com\",\r\n    url: \"//api.jquery.com\",\r\n    img: \"//api.jquery.com/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"y\",\r\n    link: \"yuque.com\",\r\n    url: \"//yuque.com\",\r\n    img: \"//yuque.com/favicon.ico\",\r\n  },\r\n  {\r\n    logoType: \"image\",\r\n    logo: \"z\",\r\n    link: \"zhihu.com\",\r\n    url: \"//zhihu.com\",\r\n    img: \"//zhihu.com/favicon.ico\",\r\n  },\r\n];\r\n\r\nrender();\r\n$(\".addButton\").on(\"click\", function () {\r\n  let urlString = window.prompt(`请输入网址：`);\r\n  let url;\r\n  if (urlString) {\r\n    if (urlString.indexOf(\"http\") === 0 || urlString.indexOf(\"//\") === 0) {\r\n      url = urlString;\r\n    } else {\r\n      url = \"//\" + urlString;\r\n    }\r\n    let link = urlString\r\n      .replace(\"https://\", \"\")\r\n      .replace(\"http://\", \"\")\r\n      .replace(\"www.\", \"\")\r\n      .replace(/\\/.*/, \"\");\r\n    hashMap.push({\r\n      logoType: \"image\",\r\n      logo: link[0],\r\n      link: link,\r\n      img: url + \"/favicon.ico\",\r\n      url: url,\r\n    });\r\n    saveData(hashMap);\r\n    render();\r\n  }\r\n});\r\n"]}